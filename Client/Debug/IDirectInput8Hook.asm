; Listing generated by Microsoft (R) Optimizing Compiler Version 15.00.30729.01 

	TITLE	d:\vice-players-master\Client\d3dhook\IDirectInput8Hook.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMTD
INCLUDELIB OLDNAMES

PUBLIC	??_7IDirectInput8Hook@@6B@			; IDirectInput8Hook::`vftable'
PUBLIC	??0IDirectInput8A@@QAE@XZ			; IDirectInput8A::IDirectInput8A
PUBLIC	??0IDirectInput8Hook@@QAE@PAUIDirectInput8A@@@Z	; IDirectInput8Hook::IDirectInput8Hook
PUBLIC	??_R4IDirectInput8Hook@@6B@			; IDirectInput8Hook::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVIDirectInput8Hook@@@8			; IDirectInput8Hook `RTTI Type Descriptor'
PUBLIC	??_R3IDirectInput8Hook@@8			; IDirectInput8Hook::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2IDirectInput8Hook@@8			; IDirectInput8Hook::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@IDirectInput8Hook@@8		; IDirectInput8Hook::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R1A@?0A@EA@IDirectInput8A@@8			; IDirectInput8A::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R0?AUIDirectInput8A@@@8			; IDirectInput8A `RTTI Type Descriptor'
PUBLIC	??_R3IDirectInput8A@@8				; IDirectInput8A::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2IDirectInput8A@@8				; IDirectInput8A::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@IUnknown@@8			; IUnknown::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R0?AUIUnknown@@@8				; IUnknown `RTTI Type Descriptor'
PUBLIC	??_R3IUnknown@@8				; IUnknown::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2IUnknown@@8				; IUnknown::`RTTI Base Class Array'
PUBLIC	?QueryInterface@IDirectInput8Hook@@UAGJABU_GUID@@PAPAX@Z ; IDirectInput8Hook::QueryInterface
PUBLIC	?AddRef@IDirectInput8Hook@@UAGKXZ		; IDirectInput8Hook::AddRef
PUBLIC	?Release@IDirectInput8Hook@@UAGKXZ		; IDirectInput8Hook::Release
PUBLIC	?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z ; IDirectInput8Hook::CreateDevice
PUBLIC	?EnumDevices@IDirectInput8Hook@@UAGJKP6GHPBUDIDEVICEINSTANCEA@@PAX@Z1K@Z ; IDirectInput8Hook::EnumDevices
PUBLIC	?GetDeviceStatus@IDirectInput8Hook@@UAGJABU_GUID@@@Z ; IDirectInput8Hook::GetDeviceStatus
PUBLIC	?RunControlPanel@IDirectInput8Hook@@UAGJPAUHWND__@@K@Z ; IDirectInput8Hook::RunControlPanel
PUBLIC	?Initialize@IDirectInput8Hook@@UAGJPAUHINSTANCE__@@K@Z ; IDirectInput8Hook::Initialize
PUBLIC	?FindDevice@IDirectInput8Hook@@UAGJABU_GUID@@PBDPAU2@@Z ; IDirectInput8Hook::FindDevice
PUBLIC	?EnumDevicesBySemantics@IDirectInput8Hook@@UAGJPBDPAU_DIACTIONFORMATA@@P6GHPBUDIDEVICEINSTANCEA@@PAUIDirectInputDevice8A@@KKPAX@Z4K@Z ; IDirectInput8Hook::EnumDevicesBySemantics
PUBLIC	?ConfigureDevices@IDirectInput8Hook@@UAGJP6GHPAUIUnknown@@PAX@ZPAU_DICONFIGUREDEVICESPARAMSA@@K1@Z ; IDirectInput8Hook::ConfigureDevices
EXTRN	__RTC_CheckEsp:PROC
EXTRN	__RTC_Shutdown:PROC
EXTRN	__RTC_InitBase:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
;	COMDAT ??_R2IUnknown@@8
; File d:\vice-players-master\client\d3dhook\idirectinput8hook.cpp
rdata$r	SEGMENT
??_R2IUnknown@@8 DD FLAT:??_R1A@?0A@EA@IUnknown@@8	; IUnknown::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3IUnknown@@8
rdata$r	SEGMENT
??_R3IUnknown@@8 DD 00H					; IUnknown::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2IUnknown@@8
rdata$r	ENDS
;	COMDAT ??_R0?AUIUnknown@@@8
_DATA	SEGMENT
??_R0?AUIUnknown@@@8 DD FLAT:??_7type_info@@6B@		; IUnknown `RTTI Type Descriptor'
	DD	00H
	DB	'.?AUIUnknown@@', 00H
_DATA	ENDS
;	COMDAT ??_R1A@?0A@EA@IUnknown@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@IUnknown@@8 DD FLAT:??_R0?AUIUnknown@@@8	; IUnknown::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3IUnknown@@8
rdata$r	ENDS
;	COMDAT ??_R2IDirectInput8A@@8
rdata$r	SEGMENT
??_R2IDirectInput8A@@8 DD FLAT:??_R1A@?0A@EA@IDirectInput8A@@8 ; IDirectInput8A::`RTTI Base Class Array'
	DD	FLAT:??_R1A@?0A@EA@IUnknown@@8
rdata$r	ENDS
;	COMDAT ??_R3IDirectInput8A@@8
rdata$r	SEGMENT
??_R3IDirectInput8A@@8 DD 00H				; IDirectInput8A::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	02H
	DD	FLAT:??_R2IDirectInput8A@@8
rdata$r	ENDS
;	COMDAT ??_R0?AUIDirectInput8A@@@8
_DATA	SEGMENT
??_R0?AUIDirectInput8A@@@8 DD FLAT:??_7type_info@@6B@	; IDirectInput8A `RTTI Type Descriptor'
	DD	00H
	DB	'.?AUIDirectInput8A@@', 00H
_DATA	ENDS
;	COMDAT ??_R1A@?0A@EA@IDirectInput8A@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@IDirectInput8A@@8 DD FLAT:??_R0?AUIDirectInput8A@@@8 ; IDirectInput8A::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	01H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3IDirectInput8A@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@IDirectInput8Hook@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@IDirectInput8Hook@@8 DD FLAT:??_R0?AVIDirectInput8Hook@@@8 ; IDirectInput8Hook::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	02H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3IDirectInput8Hook@@8
rdata$r	ENDS
;	COMDAT ??_R2IDirectInput8Hook@@8
rdata$r	SEGMENT
??_R2IDirectInput8Hook@@8 DD FLAT:??_R1A@?0A@EA@IDirectInput8Hook@@8 ; IDirectInput8Hook::`RTTI Base Class Array'
	DD	FLAT:??_R1A@?0A@EA@IDirectInput8A@@8
	DD	FLAT:??_R1A@?0A@EA@IUnknown@@8
rdata$r	ENDS
;	COMDAT ??_R3IDirectInput8Hook@@8
rdata$r	SEGMENT
??_R3IDirectInput8Hook@@8 DD 00H			; IDirectInput8Hook::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	03H
	DD	FLAT:??_R2IDirectInput8Hook@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVIDirectInput8Hook@@@8
_DATA	SEGMENT
??_R0?AVIDirectInput8Hook@@@8 DD FLAT:??_7type_info@@6B@ ; IDirectInput8Hook `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVIDirectInput8Hook@@', 00H
_DATA	ENDS
;	COMDAT ??_R4IDirectInput8Hook@@6B@
rdata$r	SEGMENT
??_R4IDirectInput8Hook@@6B@ DD 00H			; IDirectInput8Hook::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVIDirectInput8Hook@@@8
	DD	FLAT:??_R3IDirectInput8Hook@@8
rdata$r	ENDS
;	COMDAT ??_7IDirectInput8Hook@@6B@
CONST	SEGMENT
??_7IDirectInput8Hook@@6B@ DD FLAT:??_R4IDirectInput8Hook@@6B@ ; IDirectInput8Hook::`vftable'
	DD	FLAT:?QueryInterface@IDirectInput8Hook@@UAGJABU_GUID@@PAPAX@Z
	DD	FLAT:?AddRef@IDirectInput8Hook@@UAGKXZ
	DD	FLAT:?Release@IDirectInput8Hook@@UAGKXZ
	DD	FLAT:?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z
	DD	FLAT:?EnumDevices@IDirectInput8Hook@@UAGJKP6GHPBUDIDEVICEINSTANCEA@@PAX@Z1K@Z
	DD	FLAT:?GetDeviceStatus@IDirectInput8Hook@@UAGJABU_GUID@@@Z
	DD	FLAT:?RunControlPanel@IDirectInput8Hook@@UAGJPAUHWND__@@K@Z
	DD	FLAT:?Initialize@IDirectInput8Hook@@UAGJPAUHINSTANCE__@@K@Z
	DD	FLAT:?FindDevice@IDirectInput8Hook@@UAGJABU_GUID@@PBDPAU2@@Z
	DD	FLAT:?EnumDevicesBySemantics@IDirectInput8Hook@@UAGJPBDPAU_DIACTIONFORMATA@@P6GHPBUDIDEVICEINSTANCEA@@PAUIDirectInputDevice8A@@KKPAX@Z4K@Z
	DD	FLAT:?ConfigureDevices@IDirectInput8Hook@@UAGJP6GHPAUIUnknown@@PAX@ZPAU_DICONFIGUREDEVICESPARAMSA@@K1@Z
CONST	ENDS
;	COMDAT rtc$TMZ
rtc$TMZ	SEGMENT
__RTC_Shutdown.rtc$TMZ DD FLAT:__RTC_Shutdown
rtc$TMZ	ENDS
;	COMDAT rtc$IMZ
rtc$IMZ	SEGMENT
__RTC_InitBase.rtc$IMZ DD FLAT:__RTC_InitBase
; Function compile flags: /Odtp /RTCsu /ZI
rtc$IMZ	ENDS
;	COMDAT ??0IDirectInput8Hook@@QAE@PAUIDirectInput8A@@@Z
_TEXT	SEGMENT
_this$ = -8						; size = 4
_dinput$ = 8						; size = 4
??0IDirectInput8Hook@@QAE@PAUIDirectInput8A@@@Z PROC	; IDirectInput8Hook::IDirectInput8Hook, COMDAT
; _this$ = ecx

; 14   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 204				; 000000ccH
	push	ebx
	push	esi
	push	edi
	push	ecx
	lea	edi, DWORD PTR [ebp-204]
	mov	ecx, 51					; 00000033H
	mov	eax, -858993460				; ccccccccH
	rep stosd
	pop	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	??0IDirectInput8A@@QAE@XZ
	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR [eax], OFFSET ??_7IDirectInput8Hook@@6B@

; 15   : 	m_dinput = dinput;

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR _dinput$[ebp]
	mov	DWORD PTR [eax+4], ecx

; 16   : }

	mov	eax, DWORD PTR _this$[ebp]
	pop	edi
	pop	esi
	pop	ebx
	add	esp, 204				; 000000ccH
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	4
??0IDirectInput8Hook@@QAE@PAUIDirectInput8A@@@Z ENDP	; IDirectInput8Hook::IDirectInput8Hook
_TEXT	ENDS
PUBLIC	??0IUnknown@@QAE@XZ				; IUnknown::IUnknown
; Function compile flags: /Odtp /RTCsu /ZI
;	COMDAT ??0IDirectInput8A@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8						; size = 4
??0IDirectInput8A@@QAE@XZ PROC				; IDirectInput8A::IDirectInput8A, COMDAT
; _this$ = ecx
	push	ebp
	mov	ebp, esp
	sub	esp, 204				; 000000ccH
	push	ebx
	push	esi
	push	edi
	push	ecx
	lea	edi, DWORD PTR [ebp-204]
	mov	ecx, 51					; 00000033H
	mov	eax, -858993460				; ccccccccH
	rep stosd
	pop	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	ecx, DWORD PTR _this$[ebp]
	call	??0IUnknown@@QAE@XZ
	mov	eax, DWORD PTR _this$[ebp]
	pop	edi
	pop	esi
	pop	ebx
	add	esp, 204				; 000000ccH
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	0
??0IDirectInput8A@@QAE@XZ ENDP				; IDirectInput8A::IDirectInput8A
; Function compile flags: /Odtp /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ??0IUnknown@@QAE@XZ
_TEXT	SEGMENT
_this$ = -8						; size = 4
??0IUnknown@@QAE@XZ PROC				; IUnknown::IUnknown, COMDAT
; _this$ = ecx
	push	ebp
	mov	ebp, esp
	sub	esp, 204				; 000000ccH
	push	ebx
	push	esi
	push	edi
	push	ecx
	lea	edi, DWORD PTR [ebp-204]
	mov	ecx, 51					; 00000033H
	mov	eax, -858993460				; ccccccccH
	rep stosd
	pop	ecx
	mov	DWORD PTR _this$[ebp], ecx
	mov	eax, DWORD PTR _this$[ebp]
	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
??0IUnknown@@QAE@XZ ENDP				; IUnknown::IUnknown
; Function compile flags: /Odtp /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?QueryInterface@IDirectInput8Hook@@UAGJABU_GUID@@PAPAX@Z
_TEXT	SEGMENT
_this$ = 8						; size = 4
_riid$ = 12						; size = 4
_ppvObj$ = 16						; size = 4
?QueryInterface@IDirectInput8Hook@@UAGJABU_GUID@@PAPAX@Z PROC ; IDirectInput8Hook::QueryInterface, COMDAT

; 19   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 192				; 000000c0H
	push	ebx
	push	esi
	push	edi
	lea	edi, DWORD PTR [ebp-192]
	mov	ecx, 48					; 00000030H
	mov	eax, -858993460				; ccccccccH
	rep stosd

; 20   : 	return m_dinput->QueryInterface(riid, ppvObj);

	mov	esi, esp
	mov	eax, DWORD PTR _ppvObj$[ebp]
	push	eax
	mov	ecx, DWORD PTR _riid$[ebp]
	push	ecx
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+4]
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+4]
	mov	eax, DWORD PTR [eax]
	push	edx
	mov	ecx, DWORD PTR [eax]
	call	ecx
	cmp	esi, esp
	call	__RTC_CheckEsp

; 21   : }

	pop	edi
	pop	esi
	pop	ebx
	add	esp, 192				; 000000c0H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	12					; 0000000cH
?QueryInterface@IDirectInput8Hook@@UAGJABU_GUID@@PAPAX@Z ENDP ; IDirectInput8Hook::QueryInterface
; Function compile flags: /Odtp /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?AddRef@IDirectInput8Hook@@UAGKXZ
_TEXT	SEGMENT
_this$ = 8						; size = 4
?AddRef@IDirectInput8Hook@@UAGKXZ PROC			; IDirectInput8Hook::AddRef, COMDAT

; 24   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 192				; 000000c0H
	push	ebx
	push	esi
	push	edi
	lea	edi, DWORD PTR [ebp-192]
	mov	ecx, 48					; 00000030H
	mov	eax, -858993460				; ccccccccH
	rep stosd

; 25   : 	return m_dinput->AddRef();

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+4]
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+4]
	mov	ecx, DWORD PTR [ecx]
	mov	esi, esp
	push	eax
	mov	edx, DWORD PTR [ecx+4]
	call	edx
	cmp	esi, esp
	call	__RTC_CheckEsp

; 26   : }

	pop	edi
	pop	esi
	pop	ebx
	add	esp, 192				; 000000c0H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	4
?AddRef@IDirectInput8Hook@@UAGKXZ ENDP			; IDirectInput8Hook::AddRef
_TEXT	ENDS
EXTRN	??3@YAXPAX@Z:PROC				; operator delete
; Function compile flags: /Odtp /RTCsu /ZI
;	COMDAT ?Release@IDirectInput8Hook@@UAGKXZ
_TEXT	SEGMENT
$T209392 = -212						; size = 4
_uRet$ = -8						; size = 4
_this$ = 8						; size = 4
?Release@IDirectInput8Hook@@UAGKXZ PROC			; IDirectInput8Hook::Release, COMDAT

; 29   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 216				; 000000d8H
	push	ebx
	push	esi
	push	edi
	lea	edi, DWORD PTR [ebp-216]
	mov	ecx, 54					; 00000036H
	mov	eax, -858993460				; ccccccccH
	rep stosd

; 30   : 	ULONG uRet = m_dinput->Release();

	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+4]
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+4]
	mov	ecx, DWORD PTR [ecx]
	mov	esi, esp
	push	eax
	mov	edx, DWORD PTR [ecx+8]
	call	edx
	cmp	esi, esp
	call	__RTC_CheckEsp
	mov	DWORD PTR _uRet$[ebp], eax

; 31   : 
; 32   : 	if(uRet == 0)

	cmp	DWORD PTR _uRet$[ebp], 0
	jne	SHORT $LN1@Release

; 33   : 		// If the reference count is 0 delete ourselves
; 34   : 		delete this;

	mov	eax, DWORD PTR _this$[ebp]
	mov	DWORD PTR $T209392[ebp], eax
	mov	ecx, DWORD PTR $T209392[ebp]
	push	ecx
	call	??3@YAXPAX@Z				; operator delete
	add	esp, 4
$LN1@Release:

; 35   : 
; 36   : 	return uRet;

	mov	eax, DWORD PTR _uRet$[ebp]

; 37   : }

	pop	edi
	pop	esi
	pop	ebx
	add	esp, 216				; 000000d8H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	4
?Release@IDirectInput8Hook@@UAGKXZ ENDP			; IDirectInput8Hook::Release
_TEXT	ENDS
EXTRN	??0IDirectInputDevice8Hook@@QAE@PAUIDirectInput8A@@PAUIDirectInputDevice8A@@@Z:PROC ; IDirectInputDevice8Hook::IDirectInputDevice8Hook
EXTRN	??2@YAPAXI@Z:PROC				; operator new
EXTRN	___security_cookie:DWORD
EXTRN	___CxxFrameHandler3:PROC
EXTRN	@__security_check_cookie@4:PROC
;	COMDAT xdata$x
xdata$x	SEGMENT
__unwindtable$?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z$0
__ehfuncinfo$?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z DD 019930522H
	DD	01H
	DD	FLAT:__unwindtable$?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
; Function compile flags: /Odtp /RTCsu /ZI
xdata$x	ENDS
;	COMDAT ?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z
_TEXT	SEGMENT
tv92 = -244						; size = 4
$T209395 = -236						; size = 4
$T209396 = -224						; size = 4
_hr$ = -20						; size = 4
__$EHRec$ = -12						; size = 12
_this$ = 8						; size = 4
_rguid$ = 12						; size = 4
_lplpDirectInputDevice$ = 16				; size = 4
_pUknOuter$ = 20					; size = 4
?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z PROC ; IDirectInput8Hook::CreateDevice, COMDAT

; 40   : {

	push	ebp
	mov	ebp, esp
	push	-1
	push	__ehhandler$?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z
	mov	eax, DWORD PTR fs:0
	push	eax
	sub	esp, 232				; 000000e8H
	push	ebx
	push	esi
	push	edi
	lea	edi, DWORD PTR [ebp-244]
	mov	ecx, 58					; 0000003aH
	mov	eax, -858993460				; ccccccccH
	rep stosd
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	push	eax
	lea	eax, DWORD PTR __$EHRec$[ebp]
	mov	DWORD PTR fs:0, eax

; 41   : 	// Create the dinput device
; 42   : 	HRESULT hr = m_dinput->CreateDevice(rguid, lplpDirectInputDevice, pUknOuter);

	mov	esi, esp
	mov	eax, DWORD PTR _pUknOuter$[ebp]
	push	eax
	mov	ecx, DWORD PTR _lplpDirectInputDevice$[ebp]
	push	ecx
	mov	edx, DWORD PTR _rguid$[ebp]
	push	edx
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+4]
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+4]
	mov	ecx, DWORD PTR [ecx]
	push	eax
	mov	edx, DWORD PTR [ecx+12]
	call	edx
	cmp	esi, esp
	call	__RTC_CheckEsp
	mov	DWORD PTR _hr$[ebp], eax

; 43   : 
; 44   : 	if(SUCCEEDED(hr))

	cmp	DWORD PTR _hr$[ebp], 0
	jl	SHORT $LN1@CreateDevi

; 45   : 		// Create the proxy device
; 46   : 		*lplpDirectInputDevice = new IDirectInputDevice8Hook(this, *lplpDirectInputDevice);

	push	12					; 0000000cH
	call	??2@YAPAXI@Z				; operator new
	add	esp, 4
	mov	DWORD PTR $T209396[ebp], eax
	mov	DWORD PTR __$EHRec$[ebp+8], 0
	cmp	DWORD PTR $T209396[ebp], 0
	je	SHORT $LN4@CreateDevi
	mov	eax, DWORD PTR _lplpDirectInputDevice$[ebp]
	mov	ecx, DWORD PTR [eax]
	push	ecx
	mov	edx, DWORD PTR _this$[ebp]
	push	edx
	mov	ecx, DWORD PTR $T209396[ebp]
	call	??0IDirectInputDevice8Hook@@QAE@PAUIDirectInput8A@@PAUIDirectInputDevice8A@@@Z ; IDirectInputDevice8Hook::IDirectInputDevice8Hook
	mov	DWORD PTR tv92[ebp], eax
	jmp	SHORT $LN5@CreateDevi
$LN4@CreateDevi:
	mov	DWORD PTR tv92[ebp], 0
$LN5@CreateDevi:
	mov	eax, DWORD PTR tv92[ebp]
	mov	DWORD PTR $T209395[ebp], eax
	mov	DWORD PTR __$EHRec$[ebp+8], -1
	mov	ecx, DWORD PTR _lplpDirectInputDevice$[ebp]
	mov	edx, DWORD PTR $T209395[ebp]
	mov	DWORD PTR [ecx], edx
$LN1@CreateDevi:

; 47   : 
; 48   : 	return hr;

	mov	eax, DWORD PTR _hr$[ebp]

; 49   : }

	mov	ecx, DWORD PTR __$EHRec$[ebp]
	mov	DWORD PTR fs:0, ecx
	pop	ecx
	pop	edi
	pop	esi
	pop	ebx
	add	esp, 244				; 000000f4H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	16					; 00000010H
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z$0:
	mov	eax, DWORD PTR $T209396[ebp]
	push	eax
	call	??3@YAXPAX@Z				; operator delete
	pop	ecx
	ret	0
__ehhandler$?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z:
	mov	edx, DWORD PTR [esp+8]
	lea	eax, DWORD PTR [edx+12]
	mov	ecx, DWORD PTR [edx-248]
	xor	ecx, eax
	call	@__security_check_cookie@4
	mov	eax, OFFSET __ehfuncinfo$?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z
	jmp	___CxxFrameHandler3
text$x	ENDS
?CreateDevice@IDirectInput8Hook@@UAGJABU_GUID@@PAPAUIDirectInputDevice8A@@PAUIUnknown@@@Z ENDP ; IDirectInput8Hook::CreateDevice
; Function compile flags: /Odtp /RTCsu /ZI
;	COMDAT ?EnumDevices@IDirectInput8Hook@@UAGJKP6GHPBUDIDEVICEINSTANCEA@@PAX@Z1K@Z
_TEXT	SEGMENT
_this$ = 8						; size = 4
_dwDevType$ = 12					; size = 4
_lpCallback$ = 16					; size = 4
_pvRef$ = 20						; size = 4
_dwFlags$ = 24						; size = 4
?EnumDevices@IDirectInput8Hook@@UAGJKP6GHPBUDIDEVICEINSTANCEA@@PAX@Z1K@Z PROC ; IDirectInput8Hook::EnumDevices, COMDAT

; 52   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 192				; 000000c0H
	push	ebx
	push	esi
	push	edi
	lea	edi, DWORD PTR [ebp-192]
	mov	ecx, 48					; 00000030H
	mov	eax, -858993460				; ccccccccH
	rep stosd

; 53   : 	return m_dinput->EnumDevices(dwDevType, lpCallback, pvRef, dwFlags);

	mov	esi, esp
	mov	eax, DWORD PTR _dwFlags$[ebp]
	push	eax
	mov	ecx, DWORD PTR _pvRef$[ebp]
	push	ecx
	mov	edx, DWORD PTR _lpCallback$[ebp]
	push	edx
	mov	eax, DWORD PTR _dwDevType$[ebp]
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+4]
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+4]
	mov	edx, DWORD PTR [edx]
	push	ecx
	mov	eax, DWORD PTR [edx+16]
	call	eax
	cmp	esi, esp
	call	__RTC_CheckEsp

; 54   : }

	pop	edi
	pop	esi
	pop	ebx
	add	esp, 192				; 000000c0H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	20					; 00000014H
?EnumDevices@IDirectInput8Hook@@UAGJKP6GHPBUDIDEVICEINSTANCEA@@PAX@Z1K@Z ENDP ; IDirectInput8Hook::EnumDevices
; Function compile flags: /Odtp /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?GetDeviceStatus@IDirectInput8Hook@@UAGJABU_GUID@@@Z
_TEXT	SEGMENT
_this$ = 8						; size = 4
_rguidInstance$ = 12					; size = 4
?GetDeviceStatus@IDirectInput8Hook@@UAGJABU_GUID@@@Z PROC ; IDirectInput8Hook::GetDeviceStatus, COMDAT

; 57   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 192				; 000000c0H
	push	ebx
	push	esi
	push	edi
	lea	edi, DWORD PTR [ebp-192]
	mov	ecx, 48					; 00000030H
	mov	eax, -858993460				; ccccccccH
	rep stosd

; 58   : 	return m_dinput->GetDeviceStatus(rguidInstance);

	mov	esi, esp
	mov	eax, DWORD PTR _rguidInstance$[ebp]
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+4]
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+4]
	mov	edx, DWORD PTR [edx]
	push	ecx
	mov	eax, DWORD PTR [edx+20]
	call	eax
	cmp	esi, esp
	call	__RTC_CheckEsp

; 59   : }

	pop	edi
	pop	esi
	pop	ebx
	add	esp, 192				; 000000c0H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	8
?GetDeviceStatus@IDirectInput8Hook@@UAGJABU_GUID@@@Z ENDP ; IDirectInput8Hook::GetDeviceStatus
; Function compile flags: /Odtp /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?RunControlPanel@IDirectInput8Hook@@UAGJPAUHWND__@@K@Z
_TEXT	SEGMENT
_this$ = 8						; size = 4
_hwndOwner$ = 12					; size = 4
_dwFlags$ = 16						; size = 4
?RunControlPanel@IDirectInput8Hook@@UAGJPAUHWND__@@K@Z PROC ; IDirectInput8Hook::RunControlPanel, COMDAT

; 62   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 192				; 000000c0H
	push	ebx
	push	esi
	push	edi
	lea	edi, DWORD PTR [ebp-192]
	mov	ecx, 48					; 00000030H
	mov	eax, -858993460				; ccccccccH
	rep stosd

; 63   : 	return m_dinput->RunControlPanel(hwndOwner, dwFlags);

	mov	esi, esp
	mov	eax, DWORD PTR _dwFlags$[ebp]
	push	eax
	mov	ecx, DWORD PTR _hwndOwner$[ebp]
	push	ecx
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+4]
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+4]
	mov	eax, DWORD PTR [eax]
	push	edx
	mov	ecx, DWORD PTR [eax+24]
	call	ecx
	cmp	esi, esp
	call	__RTC_CheckEsp

; 64   : }

	pop	edi
	pop	esi
	pop	ebx
	add	esp, 192				; 000000c0H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	12					; 0000000cH
?RunControlPanel@IDirectInput8Hook@@UAGJPAUHWND__@@K@Z ENDP ; IDirectInput8Hook::RunControlPanel
; Function compile flags: /Odtp /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?Initialize@IDirectInput8Hook@@UAGJPAUHINSTANCE__@@K@Z
_TEXT	SEGMENT
_this$ = 8						; size = 4
_hinst$ = 12						; size = 4
_dwVersion$ = 16					; size = 4
?Initialize@IDirectInput8Hook@@UAGJPAUHINSTANCE__@@K@Z PROC ; IDirectInput8Hook::Initialize, COMDAT

; 67   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 192				; 000000c0H
	push	ebx
	push	esi
	push	edi
	lea	edi, DWORD PTR [ebp-192]
	mov	ecx, 48					; 00000030H
	mov	eax, -858993460				; ccccccccH
	rep stosd

; 68   : 	return m_dinput->Initialize(hinst, dwVersion);

	mov	esi, esp
	mov	eax, DWORD PTR _dwVersion$[ebp]
	push	eax
	mov	ecx, DWORD PTR _hinst$[ebp]
	push	ecx
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+4]
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+4]
	mov	eax, DWORD PTR [eax]
	push	edx
	mov	ecx, DWORD PTR [eax+28]
	call	ecx
	cmp	esi, esp
	call	__RTC_CheckEsp

; 69   : }

	pop	edi
	pop	esi
	pop	ebx
	add	esp, 192				; 000000c0H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	12					; 0000000cH
?Initialize@IDirectInput8Hook@@UAGJPAUHINSTANCE__@@K@Z ENDP ; IDirectInput8Hook::Initialize
; Function compile flags: /Odtp /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?FindDevice@IDirectInput8Hook@@UAGJABU_GUID@@PBDPAU2@@Z
_TEXT	SEGMENT
_this$ = 8						; size = 4
_rguidClass$ = 12					; size = 4
_ptszName$ = 16						; size = 4
_pguidInstance$ = 20					; size = 4
?FindDevice@IDirectInput8Hook@@UAGJABU_GUID@@PBDPAU2@@Z PROC ; IDirectInput8Hook::FindDevice, COMDAT

; 72   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 192				; 000000c0H
	push	ebx
	push	esi
	push	edi
	lea	edi, DWORD PTR [ebp-192]
	mov	ecx, 48					; 00000030H
	mov	eax, -858993460				; ccccccccH
	rep stosd

; 73   : 	return m_dinput->FindDevice(rguidClass, ptszName, pguidInstance);

	mov	esi, esp
	mov	eax, DWORD PTR _pguidInstance$[ebp]
	push	eax
	mov	ecx, DWORD PTR _ptszName$[ebp]
	push	ecx
	mov	edx, DWORD PTR _rguidClass$[ebp]
	push	edx
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+4]
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+4]
	mov	ecx, DWORD PTR [ecx]
	push	eax
	mov	edx, DWORD PTR [ecx+32]
	call	edx
	cmp	esi, esp
	call	__RTC_CheckEsp

; 74   : }

	pop	edi
	pop	esi
	pop	ebx
	add	esp, 192				; 000000c0H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	16					; 00000010H
?FindDevice@IDirectInput8Hook@@UAGJABU_GUID@@PBDPAU2@@Z ENDP ; IDirectInput8Hook::FindDevice
; Function compile flags: /Odtp /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?EnumDevicesBySemantics@IDirectInput8Hook@@UAGJPBDPAU_DIACTIONFORMATA@@P6GHPBUDIDEVICEINSTANCEA@@PAUIDirectInputDevice8A@@KKPAX@Z4K@Z
_TEXT	SEGMENT
_this$ = 8						; size = 4
_ptszUserName$ = 12					; size = 4
_lpdiActionFormat$ = 16					; size = 4
_lpCallback$ = 20					; size = 4
_pvRef$ = 24						; size = 4
_dwFlags$ = 28						; size = 4
?EnumDevicesBySemantics@IDirectInput8Hook@@UAGJPBDPAU_DIACTIONFORMATA@@P6GHPBUDIDEVICEINSTANCEA@@PAUIDirectInputDevice8A@@KKPAX@Z4K@Z PROC ; IDirectInput8Hook::EnumDevicesBySemantics, COMDAT

; 77   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 192				; 000000c0H
	push	ebx
	push	esi
	push	edi
	lea	edi, DWORD PTR [ebp-192]
	mov	ecx, 48					; 00000030H
	mov	eax, -858993460				; ccccccccH
	rep stosd

; 78   : 	return m_dinput->EnumDevicesBySemantics(ptszUserName, lpdiActionFormat, lpCallback, pvRef, dwFlags);

	mov	esi, esp
	mov	eax, DWORD PTR _dwFlags$[ebp]
	push	eax
	mov	ecx, DWORD PTR _pvRef$[ebp]
	push	ecx
	mov	edx, DWORD PTR _lpCallback$[ebp]
	push	edx
	mov	eax, DWORD PTR _lpdiActionFormat$[ebp]
	push	eax
	mov	ecx, DWORD PTR _ptszUserName$[ebp]
	push	ecx
	mov	edx, DWORD PTR _this$[ebp]
	mov	eax, DWORD PTR [edx+4]
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+4]
	mov	eax, DWORD PTR [eax]
	push	edx
	mov	ecx, DWORD PTR [eax+36]
	call	ecx
	cmp	esi, esp
	call	__RTC_CheckEsp

; 79   : }

	pop	edi
	pop	esi
	pop	ebx
	add	esp, 192				; 000000c0H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	24					; 00000018H
?EnumDevicesBySemantics@IDirectInput8Hook@@UAGJPBDPAU_DIACTIONFORMATA@@P6GHPBUDIDEVICEINSTANCEA@@PAUIDirectInputDevice8A@@KKPAX@Z4K@Z ENDP ; IDirectInput8Hook::EnumDevicesBySemantics
; Function compile flags: /Odtp /RTCsu /ZI
_TEXT	ENDS
;	COMDAT ?ConfigureDevices@IDirectInput8Hook@@UAGJP6GHPAUIUnknown@@PAX@ZPAU_DICONFIGUREDEVICESPARAMSA@@K1@Z
_TEXT	SEGMENT
_this$ = 8						; size = 4
_lpdiCallback$ = 12					; size = 4
_lpdiCDParams$ = 16					; size = 4
_dwFlags$ = 20						; size = 4
_pvRefData$ = 24					; size = 4
?ConfigureDevices@IDirectInput8Hook@@UAGJP6GHPAUIUnknown@@PAX@ZPAU_DICONFIGUREDEVICESPARAMSA@@K1@Z PROC ; IDirectInput8Hook::ConfigureDevices, COMDAT

; 82   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 192				; 000000c0H
	push	ebx
	push	esi
	push	edi
	lea	edi, DWORD PTR [ebp-192]
	mov	ecx, 48					; 00000030H
	mov	eax, -858993460				; ccccccccH
	rep stosd

; 83   : 	return m_dinput->ConfigureDevices(lpdiCallback, lpdiCDParams, dwFlags, pvRefData);

	mov	esi, esp
	mov	eax, DWORD PTR _pvRefData$[ebp]
	push	eax
	mov	ecx, DWORD PTR _dwFlags$[ebp]
	push	ecx
	mov	edx, DWORD PTR _lpdiCDParams$[ebp]
	push	edx
	mov	eax, DWORD PTR _lpdiCallback$[ebp]
	push	eax
	mov	ecx, DWORD PTR _this$[ebp]
	mov	edx, DWORD PTR [ecx+4]
	mov	eax, DWORD PTR _this$[ebp]
	mov	ecx, DWORD PTR [eax+4]
	mov	edx, DWORD PTR [edx]
	push	ecx
	mov	eax, DWORD PTR [edx+40]
	call	eax
	cmp	esi, esp
	call	__RTC_CheckEsp

; 84   : }

	pop	edi
	pop	esi
	pop	ebx
	add	esp, 192				; 000000c0H
	cmp	ebp, esp
	call	__RTC_CheckEsp
	mov	esp, ebp
	pop	ebp
	ret	20					; 00000014H
?ConfigureDevices@IDirectInput8Hook@@UAGJP6GHPAUIUnknown@@PAX@ZPAU_DICONFIGUREDEVICESPARAMSA@@K1@Z ENDP ; IDirectInput8Hook::ConfigureDevices
_TEXT	ENDS
END
